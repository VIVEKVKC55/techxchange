{% extends "admin/change_form.html" %}

{% block content %}
  {% if decrypted_password %}
    <div style="display: flex; align-items: center; gap: 10px;">
    <input
        type="password"
        id="password-input"
        value="{{ decrypted_password }}"
        readonly
        style="padding: 6px 10px; width: 300px; font-size: 14px; border: 1px solid #ccc; border-radius: 4px;"
    />
    <button type="button" class="button" id="toggle-password-btn">
        Show Password
    </button>
    </div>
  {% endif %}

  {{ block.super }}
{% endblock %}

{% block extrahead %}
  {{ block.super }}
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      const btn = document.getElementById("toggle-password-btn");
      const input = document.getElementById("password-input");

      if (btn && input) {
        btn.addEventListener("click", function () {
          if (input.type === "password") {
            input.type = "text";
            btn.textContent = "Hide Password";
          } else {
            input.type = "password";
            btn.textContent = "Show Password";
          }
        });
      }
    });
  </script>
{% endblock %}
